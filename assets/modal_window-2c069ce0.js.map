{"version":3,"file":"modal_window-2c069ce0.js","sources":["../../src/img/symbol-defs.svg","../../src/js/modal_window.js"],"sourcesContent":["export default \"__VITE_ASSET__59895652__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport icons from '/img/symbol-defs.svg';\n// import { toggleFavorite } from './favorites_js/favorites_section';\n\nconst modalBackdrop = document.querySelector('.Backdrop');\nconst card = document.querySelector('.Modal');\nconst button = document.querySelector('.ExerciseFiltersListSubcategories');\nconst modalClose = document.querySelector('.ModalClose');\n// const addRemoveFavorites = document.querySelector('.AddRemoveFavorites');\n// const buttonFavorite = document.querySelector('.favorites-btn-arrow');\n\nconst openClass = 'IsOpen';\nlet cardObj = {};\nlet id = '64f389465ae26083f39b17a4';\nlet ratingActive, ratingValue;\n\nbutton.addEventListener('click', modalCard);\n// buttonFavorite.addEventListener('click', modalCard);\n\nasync function modalCard(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const res = event.target.closest('li').id;\n  console.log(res);\n  try {\n    cardObj = await fetchImages(res);\n    showModal();\n    displayImages(cardObj);\n    initRating();\n    document.querySelectorAll('span').forEach(function (span) {\n      span.textContent =\n        span.textContent.charAt(0).toUpperCase() + span.textContent.slice(1);\n    });\n\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        hideModal();\n      }\n    });\n    modalBackdrop.addEventListener('click', function (event) {\n      if (event.target === modalBackdrop) {\n        hideModal();\n      }\n    });\n    modalClose.addEventListener('click', function (event) {\n      if (event.target === modalClose) {\n        hideModal();\n      }\n    });\n    // addRemoveFavorites.addEventListener('submit', addFavorites);\n  } catch (error) {}\n}\n\n// function modalCloseFunc(event) {\n//   if (\n//     event.currentTarget === modalClose ||\n//     event.key === 'Escape' ||\n//     event.target === modalBackdrop\n//   ) {\n//     hideModal();\n//     modalClose.addEventListener('click', hideModal);\n//     document.addEventListener('keydown', hideModal);\n//   }\n// }\n\nasync function fetchImages() {\n  const url = `https://energyflow.b.goit.study/api/exercises/${id}`;\n\n  try {\n    const response = await axios.get(url);\n\n    return response.data;\n  } catch (error) {}\n}\n\nfunction displayImages(cardObj) {\n  const markup = `<div class=\"Modal\">\n   <button class=\"ModalClose\" type=\"button\">\n          <svg class=\"CloseModalIcon\" width=\"25\" height=\"25\">\n            <use href=\"${icons}#icon-close\"></use>\n          </svg>\n        </button>\n  <div class=\"ModalImage\">     \n  <img class=\"ImageGif\" src=\"${cardObj.gifUrl}\" alt=\"imagegif\"/>\n  </div><div>\n  <h3 class=\"ModalTitle\">${cardObj.name}</h3>\n  <div class=\"ModalRating\">\n  <div class=\"NumberRating\">${cardObj.rating}</div>\n  <div class=\"RatingBody\">\n    <div class=\"RatingActive\"></div>\n    <div class=\"RatingItems\">\n      <input type=\"radio\" class=\"RatingItem\" value=\"1\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"2\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"3\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"4\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"5\" name=\"Rating\" />\n    </div>\n  </div>\n  </div>\n  <svg class=\"vector\" width=\"25\" height=\"2\">\n            <use href=\"${icons}#icon-vector\"></use>\n          </svg>\n  <ul class=\"ModalList\">\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Target</span> <span class=\"ItemData\">${cardObj.target}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Body Part</span> <span class=\"ItemData\">${cardObj.bodyPart}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Equipment</span><span class=\"ItemData\">${cardObj.equipment}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Popular</span><span class=\"ItemData\">${cardObj.popularity}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Burned Calories</span><span class=\"ItemData\">${cardObj.burnedCalories}/${cardObj.time} min</span></li>\n  </ul>\n  <svg class=\"vector\" width=\"25\" height=\"2\">\n            <use href=\"${icons}#icon-vector\"></use>\n          </svg>\n  <p class=\"Description\">${cardObj.description}</p>\n  <button class=\"AddRemoveFavorites\" type=\"button\">Add to favorites</svg><svg class=\"HeartModalIcon\" width=\"18\" height=\"18\">\n            <use href=\"${icons}#icon-heart\"></use>\n          </svg></button>\n          </div>\n  </div>\n  </div> `;\n  modalBackdrop.innerHTML = markup;\n}\n\n// function addFavorites() {\n//   toggleFavorite(cardObj);\n// }\n\nfunction showModal() {\n  modalBackdrop.classList.add(openClass);\n}\n\nfunction hideModal() {\n  modalBackdrop.classList.remove(openClass);\n}\n\nfunction initRating() {\n  initRatingVars();\n  setRatingActiveWidth();\n}\n\nfunction initRatingVars() {\n  ratingActive = document.querySelector('.RatingActive');\n  ratingValue = document.querySelector('.NumberRating');\n}\n\nfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\n  const ratingActiveWidth = index / 0.05;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n"],"names":["icons","modalBackdrop","button","modalClose","openClass","cardObj","id","ratingActive","ratingValue","modalCard","event","res","fetchImages","showModal","displayImages","initRating","span","hideModal","url","axios","markup","initRatingVars","setRatingActiveWidth","index","ratingActiveWidth"],"mappings":"+uBAAA,MAAeA,EAAA,sDCMTC,EAAgB,SAAS,cAAc,WAAW,EAC3C,SAAS,cAAc,QAAQ,EAC5C,MAAMC,EAAS,SAAS,cAAc,mCAAmC,EACnEC,EAAa,SAAS,cAAc,aAAa,EAIjDC,EAAY,SAClB,IAAIC,EAAU,CAAA,EACVC,EAAK,2BACLC,EAAcC,EAElBN,EAAO,iBAAiB,QAASO,CAAS,EAG1C,eAAeA,EAAUC,EAAO,CAC9B,GAAIA,EAAM,OAAO,WAAa,SAC5B,OAEF,MAAMC,EAAMD,EAAM,OAAO,QAAQ,IAAI,EAAE,GACvC,QAAQ,IAAIC,CAAG,EACf,GAAI,CACFN,EAAU,MAAMO,EAAYD,CAAG,EAC/BE,IACAC,EAAcT,CAAO,EACrBU,IACA,SAAS,iBAAiB,MAAM,EAAE,QAAQ,SAAUC,EAAM,CACxDA,EAAK,YACHA,EAAK,YAAY,OAAO,CAAC,EAAE,cAAgBA,EAAK,YAAY,MAAM,CAAC,CAC3E,CAAK,EAED,SAAS,iBAAiB,UAAW,SAAUN,EAAO,CAChDA,EAAM,MAAQ,UAChBO,GAER,CAAK,EACDhB,EAAc,iBAAiB,QAAS,SAAUS,EAAO,CACnDA,EAAM,SAAWT,GACnBgB,GAER,CAAK,EACDd,EAAW,iBAAiB,QAAS,SAAUO,EAAO,CAChDA,EAAM,SAAWP,GACnBc,GAER,CAAK,CAEL,MAAkB,CAAE,CACpB,CAcA,eAAeL,GAAc,CAC3B,MAAMM,EAAM,iDAAiDZ,CAAE,GAE/D,GAAI,CAGF,OAFiB,MAAMa,EAAM,IAAID,CAAG,GAEpB,IACpB,MAAkB,CAAE,CACpB,CAEA,SAASJ,EAAcT,EAAS,CAC9B,MAAMe,EAAS;AAAA;AAAA;AAAA,yBAGQpB,CAAK;AAAA;AAAA;AAAA;AAAA,+BAICK,EAAQ,MAAM;AAAA;AAAA,2BAElBA,EAAQ,IAAI;AAAA;AAAA,8BAETA,EAAQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAanBL,CAAK;AAAA;AAAA;AAAA,2FAG6DK,EAAQ,MAAM;AAAA,8FACXA,EAAQ,QAAQ;AAAA,6FACjBA,EAAQ,SAAS;AAAA,2FACnBA,EAAQ,UAAU;AAAA,mGACVA,EAAQ,cAAc,IAAIA,EAAQ,IAAI;AAAA;AAAA;AAAA,yBAGhHL,CAAK;AAAA;AAAA,2BAEHK,EAAQ,WAAW;AAAA;AAAA,yBAErBL,CAAK;AAAA;AAAA;AAAA;AAAA,WAK5BC,EAAc,UAAYmB,CAC5B,CAMA,SAASP,GAAY,CACnBZ,EAAc,UAAU,IAAIG,CAAS,CACvC,CAEA,SAASa,GAAY,CACnBhB,EAAc,UAAU,OAAOG,CAAS,CAC1C,CAEA,SAASW,GAAa,CACpBM,IACAC,GACF,CAEA,SAASD,GAAiB,CACxBd,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAc,SAAS,cAAc,eAAe,CACtD,CAEA,SAASc,EAAqBC,EAAQf,EAAY,UAAW,CAC3D,MAAMgB,EAAoBD,EAAQ,IAClChB,EAAa,MAAM,MAAQ,GAAGiB,CAAiB,GACjD"}