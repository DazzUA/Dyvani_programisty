{"version":3,"file":"modal_window-2269d593.js","sources":["../../src/img/symbol-defs.svg","../../src/js/favorites_js/favorites_section.js","../../src/js/modal_window.js"],"sourcesContent":["export default \"__VITE_ASSET__0f0e1258__\"","import sprite from '/img/symbol-defs.svg';\nconst fullUrl = window.location.pathname;\nconst lastSlashIndex = fullUrl.lastIndexOf('/');\nconst result = fullUrl.substring(lastSlashIndex);\n\nfunction checkLocalStorageData(key) {\n  let storageItem = localStorage.getItem(key);\n  if (!storageItem) {\n    localStorage.setItem(key, JSON.stringify([]));\n    storageItem = '[]';\n  }\n  return storageItem;\n}\n\nlet storage = 'favorites'; // ключ для localStorage\nlet storageItem = checkLocalStorageData(storage); // виклик функції з переданим ключем\nlet parsedItem = JSON.parse(storageItem); // Перетворити рядок JSON на об'єкт або масив\n\nconst favorites = document.querySelector('.add-favorites');\nconst favoritesList = document.querySelector('.favorites-list');\nlet id = '';\nlet cardForDelete;\nconst messageInfo = document.querySelector('.message-favorites');\nconst paginationBlock = document.querySelector('.favorites-pagination-block');\nconst favoritesContainerBlock = document.querySelector(\n  '.div-favorites-section'\n);\nconst deleteCards = document.querySelectorAll('.favorites-list-item');\n\n// Функція для створення карти збережених улюблених елементів\n/*function createFavoriteCard(elem) {\n  const markup = createFavoriteCardMarkup(elem);\n  // Вставити створену карту в список улюблених\n  favoritesList.insertAdjacentHTML('beforeend', markup);\n}*/\n\n///**перевіряє чи є в локалсторідж запис і якщо є, то малює картки, інакше показує повідомлення */\nif (result === '/favorites.html') {\n  if (!storageItem || parsedItem.length == 0) {\n    messageInfo.classList.add('is-open-message-favorites');\n    paginationBlock.classList.add('close');\n  } else if (storageItem) {\n    try {\n      // Пройтися по кожному елементу і створити відповідну карту\n      parsedItem.forEach(elem => {\n        renderFavoriteCards();\n      });\n    } catch (error) {\n      console.log(error.name);\n      console.log(error.message);\n    }\n  }\n}\n\n/**пагінація */\n\nif (result === '/favorites.html') {\n  document.addEventListener('DOMContentLoaded', function () {\n    // Функція для відображення пагінації залежно від ширини екрану.\n    function togglePagination() {\n      const currentPage = window.location.pathname; // Отримання поточного шляху сторінки\n      // Перевірка, чи поточна сторінка - '/favorites.html', і ширина екрану менше або дорівнює 767px.\n\n      if (\n        /*window.innerWidth <= 767 &&\n        isFavoritesListVisible()*/\n        currentPage === '/favorites.html' &&\n        window.innerWidth <= 767 &&\n        isFavoritesListVisible()\n      ) {\n        // Відображення пагінації для невеликих екранів на сторінці 2.\n        paginationBlock.style.display = 'flex';\n      } else {\n        // Приховати пагінацію для більших екранів або якщо список вибраного вмісту не видимий.\n        paginationBlock.style.display = 'none';\n      }\n    }\n\n    // Function to check if favorites list is visible\n    function isFavoritesListVisible() {\n      return favoritesList && favoritesList.offsetParent !== null;\n    }\n\n    // Function to handle pagination logic\n    function paginate() {\n      // Define items per page based on screen width and visibility of favorites list\n      const itemsPerPage =\n        window.innerWidth <= 767 && isFavoritesListVisible()\n          ? 8\n          : favoritesList.children.length;\n\n      const totalPages = Math.ceil(\n        favoritesList.children.length / itemsPerPage\n      );\n\n      // Show all items if screen width is greater than 767px\n      if (window.innerWidth > 767 && isFavoritesListVisible()) {\n        for (let i = 0; i < favoritesList.children.length; i++) {\n          favoritesList.children[i].style.display = 'block';\n        }\n        return;\n      }\n\n      let currentPage = 1;\n\n      // Function to show items for current page\n      function showPage(page) {\n        const startIndex = (page - 1) * itemsPerPage;\n        const endIndex = startIndex + itemsPerPage;\n\n        // Hide all items\n        for (let i = 0; i < favoritesList.children.length; i++) {\n          favoritesList.children[i].style.display = 'none';\n        }\n\n        // Show items for current page\n        for (\n          let i = startIndex;\n          i < endIndex && i < favoritesList.children.length;\n          i++\n        ) {\n          favoritesList.children[i].style.display = 'block';\n        }\n      }\n\n      // Show the first page initially\n      showPage(currentPage);\n\n      // Generate pagination buttons\n      paginationBlock.innerHTML = '';\n      for (let i = 1; i <= totalPages; i++) {\n        const button = document.createElement('button');\n        button.textContent = i;\n        button.addEventListener('click', function () {\n          currentPage = i;\n          showPage(currentPage);\n          updateActiveButton(currentPage);\n        });\n        paginationBlock.appendChild(button);\n      }\n\n      // Function to update active button\n      function updateActiveButton(currentPage) {\n        const buttons = paginationBlock.querySelectorAll('button');\n        buttons.forEach((button, index) => {\n          if (index === currentPage - 1) {\n            button.classList.add('active-btn');\n          } else {\n            button.classList.remove('active-btn');\n          }\n        });\n      }\n      updateActiveButton(currentPage);\n    }\n\n    // Call paginate initially\n    paginate();\n\n    // Event listener for window resize\n    window.addEventListener('resize', paginate);\n\n    // Function to handle scroll behavior\n    function checkScroll() {\n      const totalCardHeight = Array.from(favoritesList.children).reduce(\n        (acc, card) => acc + card.offsetHeight,\n        0\n      );\n\n      if (window.matchMedia('(min-width: 1440px)').matches) {\n        favoritesContainerBlock.style.maxHeight = '500px'; // Set maximum height if necessary\n      } else {\n        favoritesContainerBlock.style.maxHeight = 'none';\n      }\n\n      if (totalCardHeight > favoritesContainerBlock.offsetHeight) {\n        favoritesContainerBlock.style.overflowY = 'scroll';\n      } else {\n        favoritesContainerBlock.style.overflowY = 'visible';\n      }\n\n      const scrollOptions = {\n        behavior: 'smooth',\n        block: 'start',\n      };\n\n      window.scrollBy(0, 10);\n    }\n\n    // Перевірка поведінки прокрутки при першому завантаженні\n    checkScroll();\n\n    // Check pagination visibility on initial load\n    togglePagination();\n\n    // Перевірка видимості пагінації та ініціалізація пагінації під час зміни розміру вікна\n    window.addEventListener('resize', function () {\n      togglePagination();\n      paginate();\n      checkScroll();\n    });\n\n    // Initialize pagination if needed\n    if (isFavoritesListVisible() && favoritesList.children.length >= 8) {\n      paginate();\n    }\n  });\n}\n\nfunction handleFavoritesListClick(event) {\n  if (\n    event.target.classList.contains('favorites-btn-trash') ||\n    event.target.classList.contains('favorites-icon-delete') ||\n    event.target.classList.contains('favorites-icon-delete-use')\n  ) {\n    const id = event.target.closest('li').id;\n    deleteCard(id);\n  }\n}\n\nif (result === '/favorites.html') {\n  favoritesList.addEventListener('click', handleFavoritesListClick);\n}\n\nfunction deleteCard(id) {\n  const index = parsedItem.findIndex(item => item._id == id);\n  parsedItem.splice(index, 1);\n  localStorage.setItem(storage, JSON.stringify(parsedItem));\n  deleteCards.forEach(elem => {\n    if (elem._id == id) cardForDelete = elem;\n  });\n  if (cardForDelete) {\n    favoritesList.removeChild(cardForDelete);\n  }\n  if (!storageItem || parsedItem.length == 0) {\n    messageInfo.classList.add('is-open-message-info');\n    paginationBlock.classList.add('close');\n    window.location.reload();\n  }\n  renderFavoriteCards();\n}\n\nfunction renderFavoriteCards() {\n  // Очищаємо поточні карточки зі списку\n  favoritesList.innerHTML = '';\n  // Рендеримо кожну карточку у списку\n  parsedItem.forEach(elem => {\n    const markup = createFavoriteCardMarkup(elem);\n    // Вставляємо розмітку карточки у список улюблених елементів\n    favoritesList.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\nfunction createFavoriteCardMarkup(elem) {\n  return `<li class=\"favorites-card favorites-list-item\" id ='${elem._id}'>\n      <div class='favorites-card-header'>\n        <div class='favorites-workout'>\n          <p class='workout-p'>workout</p>\n\n          <button class='favorites-btn-trash' type=\"button\">\n          <svg class='favorites-icon-delete' width='16' height='16' fill=\"none\">\n              <use class='favorites-icon-delete-use' href='${sprite}#icon-trash'></use>\n            </svg>\n          </button>\n        </div>\n        \n          <button class=\"favorites-btn-arrow\" type=\"button\" >Start\n            <svg width='14' height='14'>\n              <use href='${sprite}#icon-arrow'></use>\n            </svg>\n          </button>\n      </div>\n\n      <div class='favorites-main-container'>\n        <div class='favorites-icon-run-man'>\n          <svg width='14' height='14'>\n            <use href='${sprite}#icon-running'></use>\n          </svg>\n        </div>\n        <p class='favorites-name-part'>${elem.name}</p>\n      </div>\n\n      <ul class=\"favorites-card-footer-list\">\n        <li>\n          <p class='favorites-card-footer-title'>Burned calories: <span class='favorites-footer-text-value'>${elem.burnedCalories} / ${elem.time} min</span></p>\n        </li>\n        <li>\n          <p class='favorites-card-footer-title'>Body part: <span class='favorites-footer-text-value'>${elem.bodyPart}</span></p>\n        </li>\n        <li>\n          <p class='favorites-card-footer-title'>Target: <span class='favorites-footer-text-value'>${elem.target}</span></p>\n        </li>\n      </ul>\n\n    </li>`;\n}\n\n//**Ігорю на кнопку*/\n\n// const favoritesButton = document.querySelector('.add-favorites');\nfunction toggleFavorite(obj) {\n  let parsedItem = JSON.parse(localStorage.getItem(storage)) || [];\n  let existingIndex = parsedItem.findIndex(item => item._id === obj._id);\n  console.log(existingIndex);\n  if (existingIndex === -1) {\n    parsedItem.push(obj);\n    localStorage.setItem(storage, JSON.stringify(parsedItem));\n  }\n}\n\nfunction deleteLocalStorageId(id) {\n  const index = parsedItem.findIndex(item => item._id == id);\n  parsedItem.splice(index, 1);\n  localStorage.setItem(storage, JSON.stringify(parsedItem));\n  deleteCards.forEach(elem => {\n    if (elem._id == id) cardForDelete = elem;\n  });\n  if (cardForDelete) {\n    favoritesList.removeChild(cardForDelete);\n  }\n}\n\nexport { toggleFavorite, deleteCard, deleteLocalStorageId };\n","import axios from 'axios';\nimport icons from '/img/symbol-defs.svg';\nimport {\n  toggleFavorite,\n  deleteCard,\n  deleteLocalStorageId,\n} from './favorites_js/favorites_section';\n\nconst modalBackdrop = document.querySelector('.Backdrop');\nconst card = document.querySelector('.Modal');\nconst button = document.querySelector('.exercise-filters-list-subcategories');\nconst buttonSearch = document.querySelector('.search-list');\nconst body = document.querySelector('body');\nconst buttonFavorite = document.querySelector('.favorites-list');\n\nconst messageInfo = document.querySelector('.message-favorites');\nconst paginationBlock = document.querySelector('.favorites-pagination-block');\n\nconst openClass = 'IsOpen';\nlet cardObj = {};\nlet ratingActive, ratingValue;\nlet addRemoveFavorites;\nlet scrollPosition;\nlet textBtn;\n// const test = 'Add to favorites';\n\nif (body.classList.contains('home-style')) {\n  button.addEventListener('click', modalCard);\n  buttonSearch.addEventListener('click', modalCard);\n}\nif (body.classList.contains('favorites-style')) {\n  buttonFavorite.addEventListener('click', favoriteDeleteCard);\n}\n\nasync function modalCard(event) {\n  const res = event.target.closest('li').id;\n\n  try {\n    if (event.target.nodeName !== 'BUTTON') {\n      return;\n    } else {\n      cardObj = await fetchImages(res);\n      showModal();\n      displayImages(cardObj);\n      initRating();\n      disableScroll();\n    }\n\n    document.querySelectorAll('span').forEach(function (span) {\n      span.textContent =\n        span.textContent.charAt(0).toUpperCase() + span.textContent.slice(1);\n    });\n    addRemoveFavorites = document.querySelector('.AddRemoveFavorites');\n    textBtn = addRemoveFavorites.textContent;\n\n    addRemoveFavorites.addEventListener('click', addRemoveFavoritesFunc);\n    const modalClose = document.querySelector('.CloseModalIcon');\n\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalBackdrop.addEventListener('click', function (event) {\n      if (event.target === modalBackdrop) {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalClose.addEventListener('click', function (event) {\n      if (event.target === modalClose) {\n        hideModal();\n        enableScroll();\n      }\n    });\n  } finally {\n    // catch (error) {\n    // }\n  }\n}\n\nfunction addRemoveFavoritesFunc() {\n  console.log(textBtn);\n  if (textBtn.trim().toLowerCase() == 'add to favorites') {\n    console.log('add');\n    addRemoveFavorites.textContent = ' Remove from ';\n    textBtn = addRemoveFavorites.textContent;\n    toggleFavorite(cardObj);\n  } else if (textBtn.trim().toLowerCase() == 'remove from') {\n    console.log('remove');\n    addRemoveFavorites.textContent = ' Add to favorites ';\n    textBtn = addRemoveFavorites.textContent;\n    console.log(cardObj._id);\n    deleteLocalStorageId(cardObj._id);\n  }\n}\n\n// function addFavorites() {\n//   toggleFavorite(cardObj);\n//   addRemoveFavorites.innerText = ' Remove from ';\n// }\n\n// function removeFavorites() {\n//   deleteCard(cardObj._id);\n//   console.log(cardObj._id);\n//   addRemoveFavorites.innerText = ' Add to favorites ';\n// }\n\nasync function fetchImages(id) {\n  const url = `https://energyflow.b.goit.study/api/exercises/${id}`;\n\n  try {\n    const response = await axios.get(url);\n\n    return response.data;\n  } catch (error) {}\n}\n\nfunction displayImages(cardObj) {\n  const markup = `<div class=\"Modal\">\n   <button class=\"ModalClose\" type=\"button\">\n          <svg class=\"CloseModalIcon\" width=\"25\" height=\"25\">\n            <use href=\"${icons}#icon-close\"></use>\n          </svg>\n        </button>\n  <div class=\"ModalImage\">     \n  <img class=\"ImageGif\" src=\"${cardObj.gifUrl}\" alt=\"imagegif\"/>\n  </div><div>\n  <h3 class=\"ModalTitle\">${cardObj.name}</h3>\n  <div class=\"ModalRating\">\n  <div class=\"NumberRating\">${cardObj.rating}</div>\n  <div class=\"RatingBody\">\n    <div class=\"RatingActive\"></div>\n    <div class=\"RatingItems\">\n      <input type=\"radio\" class=\"RatingItem\" value=\"1\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"2\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"3\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"4\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"5\" name=\"Rating\" />\n    </div>\n  </div>\n  </div>\n  <svg class=\"vector\" width=\"25\" height=\"2\">\n            <use href=\"${icons}#icon-vector\"></use>\n          </svg>\n  <ul class=\"ModalList\">\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Target</span> <span class=\"ItemData\">${cardObj.target}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Body Part</span> <span class=\"ItemData\">${cardObj.bodyPart}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Equipment</span><span class=\"ItemData\">${cardObj.equipment}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Popular</span><span class=\"ItemData\">${cardObj.popularity}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Burned Calories</span><span class=\"ItemData\">${cardObj.burnedCalories}/${cardObj.time} min</span></li>\n  </ul>\n  <svg class=\"vector\" width=\"25\" height=\"2\">\n            <use href=\"${icons}#icon-vector\"></use>\n          </svg>\n  <p class=\"Description\">${cardObj.description}</p>\n  <button class=\"AddRemoveFavorites\" type=\"button\">Add to favorites\n  <svg class=\"HeartModalIcon\" width=\"18\" height=\"18\">\n            <use href=\"${icons}#icon-heart\"></use>\n          </svg>   \n          </button>\n          </div>\n  </div>\n  </div> `;\n  modalBackdrop.innerHTML = markup;\n}\n\nasync function favoriteDeleteCard(event) {\n  const res = event.target.closest('li').id;\n\n  try {\n    if (event.target.nodeName !== 'BUTTON') {\n      return;\n    } else {\n      cardObj = await fetchImages(res);\n      showModal();\n      displayImages(cardObj);\n      initRating();\n      disableScroll();\n    }\n\n    document.querySelectorAll('span').forEach(function (span) {\n      span.textContent =\n        span.textContent.charAt(0).toUpperCase() + span.textContent.slice(1);\n    });\n\n    addRemoveFavorites = document.querySelector('.AddRemoveFavorites');\n    addRemoveFavorites.textContent = ' Remove from ';\n    textBtn = addRemoveFavorites.textContent;\n    addRemoveFavorites.addEventListener('click', removeFavoritesFunc);\n\n    const modalClose = document.querySelector('.CloseModalIcon');\n\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalBackdrop.addEventListener('click', function (event) {\n      if (event.target === modalBackdrop) {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalClose.addEventListener('click', function (event) {\n      if (event.target === modalClose) {\n        hideModal();\n        enableScroll();\n      }\n    });\n  } finally {\n    // catch (error) {\n    // }\n  }\n}\n\nfunction removeFavoritesFunc() {\n  console.log(textBtn);\n  if (textBtn.trim().toLowerCase() == 'add to favorites') {\n    console.log('add');\n    addRemoveFavorites.textContent = ' Remove from ';\n    textBtn = addRemoveFavorites.textContent;\n    toggleFavorite(cardObj);\n  } else if (textBtn.trim().toLowerCase() == 'remove from') {\n    console.log('remove');\n    addRemoveFavorites.textContent = ' Add to favorites ';\n    textBtn = addRemoveFavorites.textContent;\n    console.log(cardObj._id);\n    deleteCard(cardObj._id);\n  }\n}\n\nfunction showModal() {\n  modalBackdrop.classList.add(openClass);\n}\n\nfunction hideModal() {\n  modalBackdrop.classList.remove(openClass);\n}\n\nfunction initRating() {\n  initRatingVars();\n  setRatingActiveWidth();\n}\n\nfunction initRatingVars() {\n  ratingActive = document.querySelector('.RatingActive');\n  ratingValue = document.querySelector('.NumberRating');\n}\n\nfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\n  const ratingActiveWidth = index / 0.05;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n\nfunction disableScroll() {\n  scrollPosition = window.scrollY;\n  document.body.style.position = 'absolute';\n  document.body.style.width = '100%';\n  document.body.style.overflow = 'hidden';\n  document.body.style.top = `-${scrollPosition}px`;\n}\n\nfunction enableScroll() {\n  document.body.style.overflow = '';\n  document.body.style.position = '';\n  document.body.style.width = '';\n  document.body.style.top = '';\n  window.scrollTo(0, scrollPosition);\n}\n"],"names":["icons","fullUrl","lastSlashIndex","result","checkLocalStorageData","key","storageItem","storage","parsedItem","favoritesList","cardForDelete","messageInfo","paginationBlock","favoritesContainerBlock","deleteCards","elem","renderFavoriteCards","error","togglePagination","isFavoritesListVisible","paginate","itemsPerPage","totalPages","i","currentPage","showPage","page","startIndex","endIndex","button","updateActiveButton","index","checkScroll","totalCardHeight","acc","card","handleFavoritesListClick","event","id","deleteCard","item","markup","createFavoriteCardMarkup","sprite","toggleFavorite","obj","existingIndex","deleteLocalStorageId","modalBackdrop","buttonSearch","body","buttonFavorite","openClass","cardObj","ratingActive","ratingValue","addRemoveFavorites","scrollPosition","textBtn","modalCard","favoriteDeleteCard","res","fetchImages","showModal","displayImages","initRating","disableScroll","span","addRemoveFavoritesFunc","modalClose","hideModal","enableScroll","url","axios","removeFavoritesFunc","initRatingVars","setRatingActiveWidth","ratingActiveWidth"],"mappings":"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"}