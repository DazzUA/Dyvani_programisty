{"version":3,"file":"modal_window-88d353a1.js","sources":["../../src/img/symbol-defs.svg","../../src/js/modal_window.js"],"sourcesContent":["export default \"__VITE_ASSET__a051084a__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport icons from '/img/symbol-defs.svg';\n// import { toggleFavorite } from './favorites_js/favorites_section';\n\nconst modalBackdrop = document.querySelector('.Backdrop');\nconst card = document.querySelector('.Modal');\nconst button = document.querySelector('.ExerciseFiltersList');\nconst modalClose = document.querySelector('.ModalClose');\nconst addRemoveFavorites = document.querySelector('.AddRemoveFavorites');\n\nconst openClass = 'IsOpen';\nlet cardObj = {};\nlet id = '64f389465ae26083f39b17a4';\nlet ratingActive, ratingValue;\n\nbutton.addEventListener('click', modalCard);\n\nasync function modalCard(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const res = event.target.closest('li').id;\n\n  try {\n    cardObj = await fetchImages(res);\n    showModal();\n    displayImages(cardObj);\n    initRating();\n    document.querySelectorAll('span').forEach(function (span) {\n      span.textContent =\n        span.textContent.charAt(0).toUpperCase() + span.textContent.slice(1);\n    });\n    modalBackdrop.addEventListener('click', modalCloseFunc);\n    addRemoveFavorites.addEventListener('submit', addFavorites);\n  } catch (error) {}\n}\n\nfunction modalCloseFunc(event) {\n  if (\n    event.currentTarget === modalClose ||\n    event.key === 'Escape' ||\n    event.target === modalBackdrop\n  ) {\n    hideModal();\n  }\n}\n\nasync function fetchImages() {\n  const url = `https://energyflow.b.goit.study/api/exercises/${id}`;\n\n  try {\n    const response = await axios.get(url);\n\n    return response.data;\n  } catch (error) {}\n}\n\nfunction displayImages(cardObj) {\n  const markup = `<div class=\"Modal\">\n   <button class=\"ModalClose\" type=\"button\">\n          <svg class=\"CloseModalIcon\" width=\"8\" height=\"8\">\n            <use href=\"${icons}#icon-close\"></use>\n          </svg>\n        </button>\n  <div class=\"ModalImage\">     \n  <img class=\"ImageGif\" src=\"${cardObj.gifUrl}\" alt=\"imagegif\"/>\n  </div><div>\n  <h3 class=\"ModalTitle\">${cardObj.name}</h3>\n  <div class=\"ModalRating\">\n  <div class=\"NumberRating\">${cardObj.rating}</div>\n  <div class=\"RatingBody\">\n    <div class=\"RatingActive\"></div>\n    <div class=\"RatingItems\">\n      <input type=\"radio\" class=\"RatingItem\" value=\"1\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"2\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"3\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"4\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"5\" name=\"Rating\" />\n    </div>\n  </div>\n  </div>\n  <ul class=\"ModalList\">\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Target</span> <span class=\"ItemData\">${cardObj.target}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Body Part</span> <span class=\"ItemData\">${cardObj.bodyPart}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Equipment</span><span class=\"ItemData\">${cardObj.equipment}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Popular</span><span class=\"ItemData\">${cardObj.popularity}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Burned Calories</span><span class=\"ItemData\">${cardObj.burnedCalories}/${cardObj.time} min</span></li>\n  </ul>\n  <p class=\"Description\">${cardObj.description}</p>\n  <button class=\"AddRemoveFavorites\" type=\"button\">Add to favorites</svg><svg class=\"HeartModalIcon\" width=\"18\" height=\"18\">\n            <use href=\"./img/symbol-defs.svg#icon-heart\"></use>\n          </svg></button>\n          </div>\n  </div>\n  </div> `;\n  modalBackdrop.innerHTML = markup;\n}\n\nfunction addFavorites() {\n  toggleFavorite(cardObj);\n  // const messageInfo = document.querySelector('.message-favorites');\n  addRemoveFavorites.innerText = 'Remove from';\n}\n\nfunction showModal() {\n  modalBackdrop.classList.add(openClass);\n}\n\nfunction hideModal() {\n  modalBackdrop.classList.remove(openClass);\n}\n\nfunction initRating() {\n  initRatingVars();\n  setRatingActiveWidth();\n}\n\nfunction initRatingVars() {\n  ratingActive = document.querySelector('.RatingActive');\n  ratingValue = document.querySelector('.NumberRating');\n}\n\nfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\n  const ratingActiveWidth = index / 0.05;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n"],"names":["icons","modalBackdrop","button","modalClose","addRemoveFavorites","openClass","cardObj","id","ratingActive","ratingValue","modalCard","event","res","fetchImages","showModal","displayImages","initRating","span","modalCloseFunc","addFavorites","hideModal","url","axios","markup","initRatingVars","setRatingActiveWidth","index","ratingActiveWidth"],"mappings":"+uBAAA,MAAeA,EAAA,sDCMTC,EAAgB,SAAS,cAAc,WAAW,EAC3C,SAAS,cAAc,QAAQ,EAC5C,MAAMC,EAAS,SAAS,cAAc,sBAAsB,EACtDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAqB,SAAS,cAAc,qBAAqB,EAEjEC,EAAY,SAClB,IAAIC,EAAU,CAAA,EACVC,EAAK,2BACLC,EAAcC,EAElBP,EAAO,iBAAiB,QAASQ,CAAS,EAE1C,eAAeA,EAAUC,EAAO,CAC9B,GAAIA,EAAM,OAAO,WAAa,SAC5B,OAEF,MAAMC,EAAMD,EAAM,OAAO,QAAQ,IAAI,EAAE,GAEvC,GAAI,CACFL,EAAU,MAAMO,EAAYD,CAAG,EAC/BE,IACAC,EAAcT,CAAO,EACrBU,IACA,SAAS,iBAAiB,MAAM,EAAE,QAAQ,SAAUC,EAAM,CACxDA,EAAK,YACHA,EAAK,YAAY,OAAO,CAAC,EAAE,cAAgBA,EAAK,YAAY,MAAM,CAAC,CAC3E,CAAK,EACDhB,EAAc,iBAAiB,QAASiB,CAAc,EACtDd,EAAmB,iBAAiB,SAAUe,CAAY,CAC9D,MAAkB,CAAE,CACpB,CAEA,SAASD,EAAeP,EAAO,EAE3BA,EAAM,gBAAkBR,GACxBQ,EAAM,MAAQ,UACdA,EAAM,SAAWV,IAEjBmB,GAEJ,CAEA,eAAeP,GAAc,CAC3B,MAAMQ,EAAM,iDAAiDd,CAAE,GAE/D,GAAI,CAGF,OAFiB,MAAMe,EAAM,IAAID,CAAG,GAEpB,IACpB,MAAkB,CAAE,CACpB,CAEA,SAASN,EAAcT,EAAS,CAC9B,MAAMiB,EAAS;AAAA;AAAA;AAAA,yBAGQvB,CAAK;AAAA;AAAA;AAAA;AAAA,+BAICM,EAAQ,MAAM;AAAA;AAAA,2BAElBA,EAAQ,IAAI;AAAA;AAAA,8BAETA,EAAQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2FAa+CA,EAAQ,MAAM;AAAA,8FACXA,EAAQ,QAAQ;AAAA,6FACjBA,EAAQ,SAAS;AAAA,2FACnBA,EAAQ,UAAU;AAAA,mGACVA,EAAQ,cAAc,IAAIA,EAAQ,IAAI;AAAA;AAAA,2BAE9GA,EAAQ,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAO5CL,EAAc,UAAYsB,CAC5B,CAEA,SAASJ,GAAe,CACtB,eAAeb,CAAO,EAEtBF,EAAmB,UAAY,aACjC,CAEA,SAASU,GAAY,CACnBb,EAAc,UAAU,IAAII,CAAS,CACvC,CAEA,SAASe,GAAY,CACnBnB,EAAc,UAAU,OAAOI,CAAS,CAC1C,CAEA,SAASW,GAAa,CACpBQ,IACAC,GACF,CAEA,SAASD,GAAiB,CACxBhB,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAc,SAAS,cAAc,eAAe,CACtD,CAEA,SAASgB,EAAqBC,EAAQjB,EAAY,UAAW,CAC3D,MAAMkB,EAAoBD,EAAQ,IAClClB,EAAa,MAAM,MAAQ,GAAGmB,CAAiB,GACjD"}