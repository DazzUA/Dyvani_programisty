{"version":3,"file":"modal_window-9c97fd6e.js","sources":["../../src/img/symbol-defs.svg","../../src/js/modal_window.js"],"sourcesContent":["export default \"__VITE_ASSET__63f3e8ea__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport icons from '/img/symbol-defs.svg';\n// import { toggleFavorite } from './favorites_js/favorites_section';\n\nconst modalBackdrop = document.querySelector('.Backdrop');\nconst card = document.querySelector('.Modal');\nconst button = document.querySelector('.ExerciseFiltersListSubcategories');\nconst buttonSearch = document.querySelector('.search-list');\nconst body = document.querySelector('body');\nconst buttonFavorite = document.querySelector('.favorites-list');\n\nconst openClass = 'IsOpen';\nlet cardObj = {};\nlet ratingActive, ratingValue;\nlet addRemoveFavorites;\nlet scrollPosition = 0;\n\nif (body.classList.contains('home-style')) {\n  button.addEventListener('click', modalCard);\n  buttonSearch.addEventListener('click', modalCard);\n}\nif (body.classList.contains('favorites-style')) {\n  buttonFavorite.addEventListener('click', favoriteDeleteCard);\n}\n\nasync function modalCard(event) {\n  // if (event.target.nodeName !== 'BUTTON') {\n  //   return;\n  // }\n  const res = event.target.closest('li').id;\n\n  try {\n    cardObj = await fetchImages(res);\n    showModal();\n    displayImages(cardObj);\n    initRating();\n    disableScroll();\n    addRemoveFavorites = document.querySelector('.AddRemoveFavorites');\n    document.querySelectorAll('span').forEach(function (span) {\n      span.textContent =\n        span.textContent.charAt(0).toUpperCase() + span.textContent.slice(1);\n    });\n\n    const modalClose = document.querySelector('.CloseModalIcon');\n\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalBackdrop.addEventListener('click', function (event) {\n      if (event.target === modalBackdrop) {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalClose.addEventListener('click', function (event) {\n      if (event.target === modalClose) {\n        hideModal();\n        enableScroll();\n      }\n    });\n\n    // addRemoveFavorites.addEventListener('submit', addFavorites);\n  } finally {\n    // catch (error) { }\n  }\n}\n\n// function modalCloseFunc(event) {\n//   if (\n//     event.currentTarget === modalClose ||\n//     event.key === 'Escape' ||\n//     event.target === modalBackdrop\n//   ) {\n//     hideModal();\n//     modalClose.addEventListener('click', hideModal);\n//     document.addEventListener('keydown', hideModal);\n//   }\n// }\n\nasync function fetchImages(id) {\n  const url = `https://energyflow.b.goit.study/api/exercises/${id}`;\n\n  try {\n    const response = await axios.get(url);\n\n    return response.data;\n  } catch (error) {}\n}\n\nfunction displayImages(cardObj) {\n  const markup = `<div class=\"Modal\">\n   <button class=\"ModalClose\" type=\"button\">\n          <svg class=\"CloseModalIcon\" width=\"25\" height=\"25\">\n            <use href=\"${icons}#icon-close\"></use>\n          </svg>\n        </button>\n  <div class=\"ModalImage\">     \n  <img class=\"ImageGif\" src=\"${cardObj.gifUrl}\" alt=\"imagegif\"/>\n  </div><div>\n  <h3 class=\"ModalTitle\">${cardObj.name}</h3>\n  <div class=\"ModalRating\">\n  <div class=\"NumberRating\">${cardObj.rating}</div>\n  <div class=\"RatingBody\">\n    <div class=\"RatingActive\"></div>\n    <div class=\"RatingItems\">\n      <input type=\"radio\" class=\"RatingItem\" value=\"1\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"2\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"3\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"4\" name=\"Rating\" />\n      <input type=\"radio\" class=\"RatingItem\" value=\"5\" name=\"Rating\" />\n    </div>\n  </div>\n  </div>\n  <svg class=\"vector\" width=\"25\" height=\"2\">\n            <use href=\"${icons}#icon-vector\"></use>\n          </svg>\n  <ul class=\"ModalList\">\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Target</span> <span class=\"ItemData\">${cardObj.target}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Body Part</span> <span class=\"ItemData\">${cardObj.bodyPart}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Equipment</span><span class=\"ItemData\">${cardObj.equipment}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Popular</span><span class=\"ItemData\">${cardObj.popularity}</span></li>\n  <li class=\"ModalListItem\"><span class=\"ItemTitle\">Burned Calories</span><span class=\"ItemData\">${cardObj.burnedCalories}/${cardObj.time} min</span></li>\n  </ul>\n  <svg class=\"vector\" width=\"25\" height=\"2\">\n            <use href=\"${icons}#icon-vector\"></use>\n          </svg>\n  <p class=\"Description\">${cardObj.description}</p>\n  <button class=\"AddRemoveFavorites\" type=\"button\">Add to favorites</svg><svg class=\"HeartModalIcon\" width=\"18\" height=\"18\">\n            <use href=\"${icons}#icon-heart\"></use>\n          </svg></button>\n          </div>\n  </div>\n  </div> `;\n  modalBackdrop.innerHTML = markup;\n}\n\n// function addFavorites() {\n//   toggleFavorite(cardObj);\n// }\n\nasync function favoriteDeleteCard(event) {\n  const res = event.target.closest('li').id;\n\n  try {\n    cardObj = await fetchImages(res);\n    showModal();\n    displayImages(cardObj);\n    initRating();\n    disableScroll();\n    addRemoveFavorites = document.querySelector('.AddRemoveFavorites');\n    document.querySelectorAll('span').forEach(function (span) {\n      span.textContent =\n        span.textContent.charAt(0).toUpperCase() + span.textContent.slice(1);\n    });\n\n    const modalClose = document.querySelector('.CloseModalIcon');\n\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalBackdrop.addEventListener('click', function (event) {\n      if (event.target === modalBackdrop) {\n        hideModal();\n        enableScroll();\n      }\n    });\n    modalClose.addEventListener('click', function (event) {\n      if (event.target === modalClose) {\n        hideModal();\n        enableScroll();\n      }\n    });\n\n    // addRemoveFavorites.addEventListener('submit', addFavorites);\n  } finally {\n    // catch (error) { }\n  }\n  addRemoveFavorites.innerText = 'Remove from';\n}\n\nfunction showModal() {\n  modalBackdrop.classList.add(openClass);\n}\n\nfunction hideModal() {\n  modalBackdrop.classList.remove(openClass);\n}\n\nfunction initRating() {\n  initRatingVars();\n  setRatingActiveWidth();\n}\n\nfunction initRatingVars() {\n  ratingActive = document.querySelector('.RatingActive');\n  ratingValue = document.querySelector('.NumberRating');\n}\n\nfunction setRatingActiveWidth(index = ratingValue.innerHTML) {\n  const ratingActiveWidth = index / 0.05;\n  ratingActive.style.width = `${ratingActiveWidth}%`;\n}\n\nfunction disableScroll() {\n  scrollPosition = window.scrollY;\n  const bodyStyle = window.getComputedStyle(document.body).overflow;\n\n  document.body.style.overflow = 'hidden';\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollPosition}px`;\n}\n\nfunction enableScroll() {\n  document.body.style.overflow = '';\n  document.body.style.position = '';\n  document.body.style.top = '';\n\n  const scrollY = document.body.style.top;\n  window.scrollTo(0, scrollPosition);\n}\n"],"names":["icons","modalBackdrop","button","buttonSearch","body","buttonFavorite","openClass","cardObj","ratingActive","ratingValue","addRemoveFavorites","scrollPosition","modalCard","favoriteDeleteCard","event","res","fetchImages","showModal","displayImages","initRating","disableScroll","span","modalClose","hideModal","enableScroll","id","url","axios","markup","initRatingVars","setRatingActiveWidth","index","ratingActiveWidth"],"mappings":"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"}