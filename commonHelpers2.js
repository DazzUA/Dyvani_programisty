import{i as M}from"./assets/modal_window-438f6ef9.js";import{a,i as W}from"./assets/vendor-8cce9181.js";const _=document.querySelector(".js-menu"),se=document.querySelector(".js-open-menu"),re=document.querySelector(".js-close-menu"),Y=function(){const e=_.classList.toggle("is-open");document.body.style.overflow=e?"hidden":""};se.addEventListener("click",Y);re.addEventListener("click",Y);window.matchMedia("(min-width: 335px)").addEventListener("change",ne);function ne(e){e.matches&&(_.classList.remove("is-open"),document.body.style.overflow="")}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".hero-text");e&&(e.style.display="none",setTimeout(function(){e.style.display="block"},500))});let oe=document.querySelector(".quoteText"),ae=document.querySelector(".quoteAuthor");window.addEventListener("DOMContentLoaded",async function(){try{let e=localStorage.getItem("quoteData"),t=localStorage.getItem("quoteDate"),s=new Date,r=t?new Date(t):null;if(e&&r&&ie(s,r)){C(JSON.parse(e));return}let o=(await a.get("https://energyflow.b.goit.study/api/quote")).data;localStorage.setItem("quoteData",JSON.stringify(o)),localStorage.setItem("quoteDate",s.toISOString()),C(o)}catch(e){console.error("Error:",e)}});function C(e){oe.innerText=e.quote,ae.innerText=e.author}function ie(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}const B=document.querySelector(".exercise-filters-list"),F=document.querySelector(".pagination"),U=document.querySelector(".pagination-subcategories"),k=document.querySelector(".exercise-filters-list-subcategories"),ce=document.querySelector(".exercises-form"),le=document.querySelector(".title-exercises"),x="https://energyflow.b.goit.study/api";let v=1,i,c;B.addEventListener("click",ue);async function ue(e){if(ce.classList.remove("visually-hidden"),F.innerHTML="",B.classList.add("visually-hidden"),k.classList.remove("visually-hidden"),F.removeEventListener("click",ge),e.target===e.currentTarget)return;const t=e.target.closest(".exercises-item"),{filter:s,name:r}=t.dataset;i=s,c=r,le.innerHTML=`Exercises /<span class='span-title-exercises'> ${c}</span>`;try{const{page:n,totalPages:o,results:u}=await K(i,c);if(k.innerHTML=m(u),o>1){const g=b(n,o);U.innerHTML=g}U.addEventListener("click",pe)}catch{l("Error")}}async function K(e,t,s){try{return e==="Muscles"?(await a.get(`${x}/exercises`,{params:{muscles:t,page:s,limit:9}})).data:e==="Body parts"?(await a.get(`${x}/exercises`,{params:{bodypart:t,page:s,limit:9}})).data:(await a.get(`${x}/exercises`,{params:{equipment:t,page:s,limit:9}})).data}catch{l("Error")}}function m(e){return e.map(({rating:s,name:r,burnedCalories:n,time:o,bodyPart:u,target:g,_id:E})=>`<li class="workout-card exercise-category-list" id ='${E}'>
      <div class='card-header'>
        <div class='workout-wrapper'>
          <p class='workout'>workout</p>
          <div class='rating-wrapper'><p>${s}</p>
          <svg class='star-icon' width='13' height='13'>
          <use href='${M}#icon-star'></use>
        </svg></div>
        </div>
        
          <button type="button" class="start-btn">
  Start<svg width='13' height='13'>
          <use href='${M}#icon-arrow'></use>
        </svg>
</button>
        
      </div>
      <div class='card-main-part'>
      <div class='run-icon-wrapper'><svg width='14' height='14'>
          <use href='${M}#icon-running'></use>
        </svg></div>
        <p class='main-part-name'>${r}</p>
      </div>
      <ul class="card-footer">
        <li>
          <p class='card-footer-text-descr'>Burned calories: <span class='card-footer-text-value'>${n} / ${o} min</span></p>
        </li>
        <li>
          <p class='card-footer-text-descr'>Body part: <span class='card-footer-text-value'>${u}</span></p>
        </li>
        <li>
          <p class='card-footer-text-descr'>Target: <span class='card-footer-text-value'>${g}</span></p>
        </li>
      </ul>

    </li>`).join("")}async function de(e=filterValueDefault){try{return(await a.get(`${x}/filters`,{params:{filter:e,page:v,limit:12}})).data}catch{l("Error")}}async function pe(e){if(e.target.tagName==="BUTTON"){q(),v=e.target.textContent;try{const{results:t}=await K(i,c,v);k.innerHTML=m(t)}catch{l("Error")}}}async function ge(e){v=e.target.textContent;try{const{results:t}=await de(i,v);B.innerHTML=T(t)}catch{l("Error")}}function l(e){W.error({message:e,messageColor:"#FAFAFB",messageLineHeight:"24px",messageSize:"16px",position:"topRight",backgroundColor:"#EF4040",maxWidth:"350px",timeout:!1})}const me=document.querySelector(".filter-buttons"),y=document.querySelector(".exercise-filters-list"),h=document.querySelector(".pagination"),ye=document.querySelector(".exercises-form"),fe=document.querySelector(".exercises "),he=document.querySelector(".title-exercises"),ve=document.querySelector(".exercise-filters-list-subcategories"),A=document.querySelector(".pagination-subcategories"),Le=document.querySelector(".search-list"),xe=document.querySelector(".search-pagination"),Se=document.querySelector(".no-results"),we=document.querySelector(".exercises"),Te="https://energyflow.b.goit.study/api";let G="Muscles",w=1,I=window.innerWidth,S=0;me.addEventListener("click",qe);h.addEventListener("click",Ee);I<=375?S=8:(I<=768,S=12);async function P(){try{return(await a.get(`${Te}/filters`,{params:{filter:G,page:w,limit:S}})).data}catch{l("Error")}}async function be(){try{const e=await P().then(t=>{const{results:s,totalPages:r,page:n}=t;if(s&&s.length>0){y.innerHTML=T(s);const o=b(n,r);h.innerHTML=o}else console.error("No exercises found.")})}catch{l("Error")}}be();async function qe(e){if(e.target.tagName!=="BUTTON")return;q(),he.innerHTML="Exercises",Le.innerHTML="",xe.innerHTML="",e.preventDefault(),ye.classList.add("visually-hidden"),Se.classList.add("visually-hidden"),ve.classList.add("visually-hidden"),y.classList.remove("visually-hidden"),h.innerHTML="",A.innerHTML="",A.classList.remove("visually-hidden"),w=1;const s=e.target.dataset.filter;G=s,y.innerHTML="";const r=fe.querySelector(".button-is-active"),n=e.target;if(r.classList.remove("button-is-active"),n.classList.add("button-is-active"),e.target.tagName==="BUTTON")try{P(s).then(o=>{const{results:u,totalPages:g,page:E}=o;if(y.innerHTML=T(u),g>1){const te=b(E,g);h.innerHTML=te}else h.innerHTML=""})}catch{l("Error")}}async function Ee(e){if(e.target.tagName==="BUTTON"){e.preventDefault(),q(),w=e.target.textContent,Array.from(e.currentTarget.children).map(t=>{t.textContent!==w?t.classList.remove("pagination-btn-is-active"):e.target.classList.add("pagination-btn-is-active")}),y.innerHTML="";try{const{results:t,page:s,totalPages:r}=await P();if(s===r)return;y.innerHTML=T(t)}catch{l("Error")}}}function T(e){return e.map(({name:s,filter:r,imgUrl:n})=>` <li class='filter-list exercises-item' data-filter='${r}' data-name='${s}'>
        <img class="img-exercises" src="${n}" alt="${r}">
        <div class="filter-text">
          <p class="filter-exercises">${s}</p>
          <p class="filter-name">${r}</p>
        </div>
      </li>`).join("")}function b(e,t){let s="";for(let r=1;r<=t;r+=1)s+=`<button class="pagination-btn pagination-btn-is-active" type="button" value="${r}">${r}</button>`;return s}function q(){we.scrollIntoView({behavior:"smooth",block:"start"})}const N="https://energyflow.b.goit.study/api",R=document.querySelector(".exercise-filters-list-subcategories"),J=document.querySelector(".search-container"),d=document.querySelector(".search-list"),O=document.querySelector(".exercises-form"),j=document.querySelector(".no-results"),Me=document.querySelector(".pagination-subcategories"),H=document.querySelector(".search-pagination");let p,z,L=1;O.addEventListener("submit",ee);O.addEventListener("keydown",function(e){e.keyCode===13&&ee(e)});async function Q(e,t,s,r=9){try{return(await a.get(`${N}/exercises`,{params:{bodypart:e,keyword:t,page:s,limit:r}})).data}catch(n){console.log(n)}}async function X(e,t,s,r=9){try{return(await a.get(`${N}/exercises`,{params:{muscles:e,keyword:t,page:s,limit:r}})).data}catch(n){console.log(n)}}async function Z(e,t,s,r=9){try{return(await a.get(`${N}/exercises`,{params:{equipment:e,keyword:t,page:s,limit:r}})).data}catch(n){console.log(n)}}async function ee(e){e.preventDefault(),Me.classList.add("visually-hidden"),p=e.currentTarget.elements.search.value.trim();let t;try{i==="Body parts"?t=await Q(c,p):i==="Muscles"?t=await X(c,p):i==="Equipment"&&(t=await Z(c,p));const{totalPages:s,page:r,results:n}=t,o=t.results;if(s>1){const u=b(r,s);H.innerHTML=u}else H.innerHTML="";s===null?(J.classList.remove("visually-hidden"),j.classList.remove("visually-hidden"),R.classList.add("visually-hidden"),d.classList.add("visually-hidden")):(J.classList.remove("visually-hidden"),d.classList.remove("visually-hidden"),j.classList.add("visually-hidden"),R.classList.add("visually-hidden"),z=t.results,d.innerHTML=m(z))}catch(s){console.log(s)}finally{O.reset()}}H.addEventListener("click",$e);async function $e(e){if(e.preventDefault(),q(),e.target.tagName==="BUTTON"){L=e.target.textContent,d.innerHTML="";try{if(i==="Body parts"){const{results:t}=await Q(c,p,L);d.innerHTML=m(t)}else if(i==="Muscles"){const{results:t}=await X(c,p,L);d.innerHTML=m(t)}else if(i==="Equipment"){const{results:t}=await Z(c,p,L);d.innerHTML=m(t)}}catch(t){console.log(t)}}}const f={form:document.querySelector(".footer-form"),input:document.querySelector(".form-input"),submit:document.querySelector(".modal-button")},ke="https://energyflow.b.goit.study/api/subscription",He="feedback-form-state",$=JSON.parse(localStorage.getItem(He));$!=null?f.input.value=$.email:f.input.value="";f.submit.addEventListener("click",De);async function De(e){const t=f.input.value.trim();e.preventDefault();try{const s=await a.post(ke,{email:t});V(JSON.stringify(JSON.parse(s.request.responseText).message)),f.input.value=""}catch(s){V(JSON.stringify(JSON.parse(s.request.responseText).message)),f.input.value=""}}function V(e){W.show({position:"topRight",message:e,maxWidth:"352",messageColor:"#fff",messageSize:"15px",backgroundColor:"rgba(27, 27, 27)",close:!1,closeOnClick:!0})}const D=document.querySelector(".scroll-up");D.addEventListener("click",async()=>{await Be()});window.onscroll=async()=>{await Pe()};async function Be(){window.scrollTo({top:0})}async function Pe(){(document.body.scrollTop||document.documentElement.scrollTop)>20?D.classList.remove("visually-hidden"):D.classList.add("visually-hidden")}
//# sourceMappingURL=commonHelpers2.js.map
